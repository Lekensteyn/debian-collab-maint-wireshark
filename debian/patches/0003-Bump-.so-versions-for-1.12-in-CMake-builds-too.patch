From 2f41fb049e1b491cd3c0e42a0b4cb4d76383b79a Mon Sep 17 00:00:00 2001
From: Balint Reczey <balint@balintreczey.hu>
Date: Thu, 29 May 2014 18:21:37 +0700
Subject: [PATCH] Bump .so versions for 1.12 in CMake builds, too

Change-Id: Id8f9c9b64dee0340eef08583f5931f5076ef5089
---
 epan/CMakeLists.txt    | 4 ++--
 wiretap/CMakeLists.txt | 4 ++--
 wsutil/CMakeLists.txt  | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/epan/CMakeLists.txt b/epan/CMakeLists.txt
index a350343..31d4615 100644
--- a/epan/CMakeLists.txt
+++ b/epan/CMakeLists.txt
@@ -1665,11 +1665,11 @@ add_library(epan ${LINK_MODE_LIB}
 
 add_dependencies(epan gitversion)
 
-set(FULL_SO_VERSION "0.0.0")
+set(FULL_SO_VERSION "5.0.0")
 
 set_target_properties(epan PROPERTIES COMPILE_DEFINITIONS "WS_BUILD_DLL")
 set_target_properties(epan PROPERTIES LINK_FLAGS "${WS_LINK_FLAGS}")
-set_target_properties(epan PROPERTIES VERSION ${FULL_SO_VERSION} SOVERSION 0)
+set_target_properties(epan PROPERTIES VERSION ${FULL_SO_VERSION} SOVERSION 5)
 
 ABICHECK(libwireshark)
 
diff --git a/wiretap/CMakeLists.txt b/wiretap/CMakeLists.txt
index 38010ed..dd56565 100644
--- a/wiretap/CMakeLists.txt
+++ b/wiretap/CMakeLists.txt
@@ -114,11 +114,11 @@ add_library(wiretap ${LINK_MODE_LIB}
 	${WIRETAP_FILES}
 )
 
-set(FULL_SO_VERSION "0.0.0")
+set(FULL_SO_VERSION "4.0.0")
 
 set_target_properties(wiretap PROPERTIES COMPILE_DEFINITIONS "WS_BUILD_DLL")
 set_target_properties(wiretap PROPERTIES LINK_FLAGS "${WS_LINK_FLAGS}")
-set_target_properties(wiretap PROPERTIES VERSION ${FULL_SO_VERSION} SOVERSION 0)
+set_target_properties(wiretap PROPERTIES VERSION ${FULL_SO_VERSION} SOVERSION 4)
 set_target_properties(wiretap PROPERTIES FOLDER "DLLs")
 
 ABICHECK(libwiretap)
diff --git a/wsutil/CMakeLists.txt b/wsutil/CMakeLists.txt
index 1e57b39..67ab181 100644
--- a/wsutil/CMakeLists.txt
+++ b/wsutil/CMakeLists.txt
@@ -97,11 +97,11 @@ add_library(wsutil ${LINK_MODE_LIB}
   ${WSUTIL_FILES}
 )
 
-set(FULL_SO_VERSION "0.0.0")
+set(FULL_SO_VERSION "4.0.0")
 
 set_target_properties(wsutil PROPERTIES COMPILE_DEFINITIONS "WS_BUILD_DLL")
 set_target_properties(wsutil PROPERTIES LINK_FLAGS "${WS_LINK_FLAGS}")
-set_target_properties(wsutil PROPERTIES VERSION ${FULL_SO_VERSION} SOVERSION 0)
+set_target_properties(wsutil PROPERTIES VERSION ${FULL_SO_VERSION} SOVERSION 4)
 set_target_properties(wsutil PROPERTIES FOLDER "DLLs")
 
 ABICHECK(libwsutil)
-- 
1.9.1

