From cf502fa640e2088bc47d812821a83756c0b66619 Mon Sep 17 00:00:00 2001
From: Anders Broman <anders.broman@ericsson.com>
Date: Thu, 8 Nov 2012 13:42:34 +0000
Subject: [PATCH 6/8] Remove one more instance of destroy/create cr.

svn path=/trunk/; revision=45972

Conflicts:
	ui/gtk/io_stat.c
---
 ui/gtk/io_stat.c |   12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

diff --git a/ui/gtk/io_stat.c b/ui/gtk/io_stat.c
index cacaac1..82ff46c 100644
--- a/ui/gtk/io_stat.c
+++ b/ui/gtk/io_stat.c
@@ -957,8 +957,6 @@ io_stat_draw(io_stat_t *io)
 
 		}
 	}
-    cairo_destroy (cr);
-    cr = NULL;
 
 	/* If we have not specified the last_interval via the GUI, just pick the current end of the
 	 *  capture so that it scrolls nicely when doing live captures.
@@ -969,14 +967,8 @@ io_stat_draw(io_stat_t *io)
 		last_interval = io->last_interval;
 	}
 
-/*XXX*/
-	/* plot the x-scale */
-#if GTK_CHECK_VERSION(2,22,0)
-		cr = cairo_create (io->surface);
-#else
-		cr = gdk_cairo_create (io->pixmap);
-#endif
-    cairo_set_line_width (cr, 1.0);
+    /*XXX*/
+    /* plot the x-scale */
     cairo_move_to(cr, io->left_x_border+0.5, io->surface_height-bottom_y_border+1.5);
     cairo_line_to(cr, io->surface_width-io->right_x_border+1.5,io->surface_height-bottom_y_border+1.5);
     cairo_stroke(cr);
-- 
1.7.10.4

